function initializeInputs(n){if($(n).find(".dynamic-modal").each(function(){var i=$(this).attr("data-id"),n,t;$("#targetId").length>0&&$("#targetId").remove();n=$(this).children().detach();$("body").append(n);t={id:i};$.each(n[0].attributes,function(n,i){t[i.nodeName]=i.nodeValue});n.replaceWith(function(){return $("<form />",t).append(n.contents())})}),$(n).find(".m-select2").select2(),$(n).find(".tag-select").select2({tags:!0,tokenSeparators:[","]}),$(n).find(".datepicker").datepicker({format:"dd-mm-yyyy"}),$(n).find(".select2-without-search").select2({minimumResultsForSearch:Infinity}),$(n).find(".evalution-slider").each(function(n,t){noUiSlider.create(t,{start:[5],step:1,range:{min:[1],max:[10]},tooltips:!0,format:wNumb({decimals:0}),connect:[!0,!1]});t.noUiSlider.on("change.one",function(n){$(this.target).parent().find("input").val(n)});var i=$(t).next('input[type="hidden"]').val();i?t.noUiSlider.set(i):(t.noUiSlider.set(5),$(t).next('input[type="hidden"]').val(5))}),typeof fieldOptions!="undefined"){$(n).find(".m-values-autocomplete").autocomplete({minLength:0,source:fieldOptions.valuesDictionary}).on("click",function(){$(this).autocomplete("search",$(this).val())});$(n).find(".m-stakeholders-autocomplete").autocomplete({minLength:0,source:fieldOptions.stakeholderUsers,change:function(n,t){if(!t.item){$(this).val("");return}$(n.target).next("[data-name='stakeholderId']").val(t.item.id)}}).on("click",function(){$(this).autocomplete("search",$(this).val())}).on("keyup keydown",function(n){n.which==13&&n.preventDefault()})}$.validator.unobtrusive.parse(n);$(n).find(".sp-tooltip").tooltip();$(n).find(".m-scrollable").each(function(n,t){mApp.initScroller($(t),{})});$(n).find(".text-editor").summernote()}function deleteConfirm(){return swal({icon:"warning",title:"Are you sure?",buttons:{confirm:{text:"Yes",value:!0,visible:!0,className:"btn btn-sp m-btn",closeModal:!0},cancel:{text:"No",value:!1,visible:!0,className:"btn btn-secondary m-btn",closeModal:!0}}})}function submitConfirm(n){return swal({icon:"warning",title:"Are you sure?",text:n,buttons:{confirm:{text:"Yes",value:!0,visible:!0,className:"btn btn-sp m-btn",closeModal:!0},cancel:{text:"No",value:!1,visible:!0,className:"btn btn-secondary m-btn",closeModal:!0}}})}function notify(n,t,i=5){$.notify({message:n},{type:t,delay:i*1e3,placement:{from:"bottom",align:"right"},offset:{x:20,y:100},z_index:5e3})}$(document).ready(function(){$(".nav-toggle").click(function(){var t=$(this).attr("href"),n=$(this);$(t).toggle(function(){$(this).css("display")=="none"?n.html("Read More"):n.html("Read Less")})})});$(document).ready(function(){initializeInputs(document);$.fn.dataTable.ext.order["dom-select"]=function(n,t){return this.api().column(t,{order:"index"}).nodes().map(function(n){return $("select",n).val()})};$.fn.dataTable.ext.order["dom-input"]=function(n,t){return this.api().column(t,{order:"index"}).nodes().map(function(n){return $("input",n).val()})};$(".user-submit-btn").click(submitConfirm);$(".draggable-file").draggable({revert:"invalid",containment:"document",helper:"clone",cursor:"move"});$(".table-row-delete").click(function(n){n.preventDefault();deleteConfirm()})});$(document).on("submit","form#add_plan_form",function(n){if(n.preventDefault(),$("#add_plan_form").valid()){let t=new FormData(document.querySelector("form#add_plan_form"));$.ajax({url:CreatePlanURL,method:"post",data:t,processData:!1,contentType:!1,success:function(n,t,i){i.status==201&&(notify("Successfully created","success",5),setTimeout(function(){document.location.reload(!1)},2e3));(i.status==202||i.status==400)&&notify("Input data are not valid ","danger",5);$("#add_plan_form").html(n);initializeInputs("#add_plan_form")},error:function(){notify("An Error occured on the request","danger",5)}})}});$(document).on("click",".delete-plan",function(n){n.preventDefault();let t=$(this).data("id");deleteConfirm().then(n=>{n&&$.ajax({url:DeletePlanURL,method:"post",data:{planId:t},success:function(n,t,i){i.status==400&&notify("An Error occured during sending a request","danger",5);n.result?(notify("Successfully deleted","success",5),setTimeout(function(){document.location.reload(!1)},2e3)):notify("Deleting the plan is not possible due to existing answers","danger",5)},error:function(){notify("An Error occured during sending a request","danger",5)}})})});$(document).on("submit","form#add_dictionary_form",function(n){if(n.preventDefault(),$("#add_dictionary_form").valid()){let t=new FormData(document.querySelector("form#add_dictionary_form"));$.ajax({url:CreateDictionaryURL,method:"post",data:t,processData:!1,contentType:!1,success:function(n,t,i){i.status==201&&(notify("Successfully created","success",5),setTimeout(function(){document.location.reload(!1)},2e3));(i.status==202||i.status==400)&&notify("Input data are not valid ","danger",5);$("#add_dictionary_form").html(n);initializeInputs("#add_dictionary_form")},error:function(){notify("An Error occured on the request","danger",5)}})}});$(document).on("click",".delete-dictionary",function(n){n.preventDefault();let t=$(this).data("id");deleteConfirm().then(n=>{n&&$.ajax({url:DeleteDictionaryURL,method:"post",data:{id:t},success:function(n,t,i){i.status==400&&notify("An Error occured during sending a request","danger",5);n.result?(notify("Successfully deleted","success",5),setTimeout(function(){document.location.reload(!1)},2e3)):notify("Deleting the record is not possible ","danger",5)},error:function(){notify("An Error occured during sending a request","danger",5)}})})});$(document).on("click",".activate-dictionary",function(n){n.preventDefault();let t=$(this).data("id");deleteConfirm().then(n=>{n&&$.ajax({url:ActivateDictionaryURL,method:"post",data:{id:t},success:function(n,t,i){i.status==400&&notify("An Error occured during sending a request","danger",5);n.result?(notify("Successfully activated","success",5),setTimeout(function(){document.location.reload(!1)},2e3)):notify("Activating the record is not possible ","danger",5)},error:function(){notify("An Error occured during sending a request","danger",5)}})})});$(document).on("click",".disactivate-dictionary",function(n){n.preventDefault();let t=$(this).data("id");deleteConfirm().then(n=>{n&&$.ajax({url:DisactivateDictionaryURL,method:"post",data:{id:t},success:function(n,t,i){i.status==400&&notify("An Error occured during sending a request","danger",5);n.result?(notify("Successfully Diactivated","success",5),setTimeout(function(){document.location.reload(!1)},2e3)):notify("Disactivating the record is not possible ","danger",5)},error:function(){notify("An Error occured during sending a request","danger",5)}})})});