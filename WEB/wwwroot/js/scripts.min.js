function initializeInputs(n){$(n).find(".m-select2").select2();$(n).find(".tag-select").select2({tags:!0,tokenSeparators:[","]});$(n).find(".datepicker").datepicker({format:"dd-mm-yyyy"});$(n).find(".select2-without-search").select2({minimumResultsForSearch:Infinity});$(n).find(".evalution-slider").each(function(n,t){noUiSlider.create(t,{start:[5],step:1,range:{min:[1],max:[10]},tooltips:!0,format:wNumb({decimals:0}),connect:[!0,!1]});t.noUiSlider.on("change.one",function(n){$(this.target).parent().find("input").val(n)});var i=$(t).next('input[type="hidden"]').val();console.log(i);i?(console.log("set val"),t.noUiSlider.set(i)):(t.noUiSlider.set(5),$(t).next('input[type="hidden"]').val(5))});typeof fieldOptions!="undefined"&&($(n).find(".m-values-autocomplete").autocomplete({source:fieldOptions.valuesDictionary}),$(n).find(".m-values-autocomplete").autocomplete("option","appendTo",".modal"),$(n).find(".m-stakeholders-autocomplete").autocomplete({source:fieldOptions.stakeholderUsers,change:function(n,t){if(!t.item){$(this).val("");return}$(n.target).next("[name='stakeholderId']").val(t.item.id)}}));$.validator.unobtrusive.parse(n);$(".sp-tooltip").tooltip()}function deleteConfirm(){return swal({icon:"warning",title:"Are you sure?",buttons:{confirm:{text:"Yes",value:!0,visible:!0,className:"btn btn-sp m-btn",closeModal:!0},cancel:{text:"No",value:!1,visible:!0,className:"btn btn-secondary m-btn",closeModal:!0}}})}function submitConfirm(n){return swal({icon:"warning",title:"Are you sure?",text:n,buttons:{confirm:{text:"Yes",value:!0,visible:!0,className:"btn btn-sp m-btn",closeModal:!0},cancel:{text:"No",value:!1,visible:!0,className:"btn btn-secondary m-btn",closeModal:!0}}})}function filePreviewRemoveHandler(n){removeFilePreview($(n.target).parent())}function removeFilePreview(n){let t=$(n).parent();t.find(".dz-message").hide();deleteConfirm().then(function(i){i&&n.remove();t.find(".dz-preview").length==0&&t.find(".dz-message").show()})}function notify(n,t,i=5){$.notify({message:n},{type:t,delay:i*1e3,placement:{from:"bottom",align:"right"},offset:{x:20,y:100},z_index:5e3})}$(document).ready(function(){$(".nav-toggle").click(function(){var t=$(this).attr("href"),n=$(this);$(t).toggle(function(){$(this).css("display")=="none"?n.html("Read More"):n.html("Read Less")})})});$(document).ready(function(){initializeInputs(document);$.fn.dataTable.ext.order["dom-select"]=function(n,t){return this.api().column(t,{order:"index"}).nodes().map(function(n){return $("select",n).val()})};$.fn.dataTable.ext.order["dom-input"]=function(n,t){return this.api().column(t,{order:"index"}).nodes().map(function(n){return $("input",n).val()})};$(".user-submit-btn").click(submitConfirm);$(".draggable-file").draggable({revert:"invalid",containment:"document",helper:"clone",cursor:"move"});$(".table-row-delete").click(function(n){n.preventDefault();deleteConfirm()})});$(document).on("submit","form#add_plan_form",function(n){if(n.preventDefault(),$("#add_plan_form").valid()){let t=new FormData(document.querySelector("form#add_plan_form"));$.ajax({url:CreatePlanURL,method:"post",data:t,processData:!1,contentType:!1,success:function(n,t,i){i.status==201&&(notify("Successfully created","success",5),setTimeout(function(){document.location.reload(!1)},3e3));(i.status==202||i.status==400)&&notify("Input data are not valid ","danger",5);$("#add_plan_form").html(n);initializeInputs("#add_plan_form")},error:function(){notify("An Error occured on the request","danger",5)}})}});$(document).on("click",".delete-plan",function(n){n.preventDefault();let t=$(this).data("id");deleteConfirm().then(n=>{n&&$.ajax({url:DeletePlanURL,method:"post",data:{planId:t},success:function(n,t,i){i.status==400&&notify("An Error occured during sending a request","danger",5);n.result?(notify("Successfully deleted","success",5),setTimeout(function(){document.location.reload(!1)},3e3)):notify("Deleting the plan is not possible due to existing answers","danger",5)},error:function(){notify("An Error occured during sending a request","danger",5)}})})});